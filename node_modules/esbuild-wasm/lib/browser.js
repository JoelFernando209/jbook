(exports=>{var ue=Object.defineProperty,ve=e=>ue(e,"__esModule",{value:!0}),Re=(e,r)=>{ve(e);for(var t in r)ue(e,t,{get:r[t],enumerable:!0})},ee=(e,r,t)=>new Promise((s,o)=>{var i=a=>{try{d(t.next(a))}catch(w){o(w)}},y=a=>{try{d(t.throw(a))}catch(w){o(w)}},d=a=>a.done?s(a.value):Promise.resolve(a.value).then(i,y);d((t=t.apply(e,r)).next())});Re(exports,{build:()=>Te,buildSync:()=>Ue,serve:()=>De,startService:()=>Le,transform:()=>Ie,transformSync:()=>Pe,version:()=>Fe});function ne(e){let r=s=>{if(s===null)t.write8(0);else if(typeof s=="boolean")t.write8(1),t.write8(+s);else if(typeof s=="number")t.write8(2),t.write32(s|0);else if(typeof s=="string")t.write8(3),t.write(W(s));else if(s instanceof Uint8Array)t.write8(4),t.write(s);else if(s instanceof Array){t.write8(5),t.write32(s.length);for(let o of s)r(o)}else{let o=Object.keys(s);t.write8(6),t.write32(o.length);for(let i of o)t.write(W(i)),r(s[i])}},t=new te;return t.write32(0),t.write32(e.id<<1|+!e.isRequest),r(e.value),re(t.buf,t.len-4,0),t.buf.subarray(0,t.len)}function fe(e){let r=()=>{switch(t.read8()){case 0:return null;case 1:return!!t.read8();case 2:return t.read32();case 3:return V(t.read());case 4:return t.read();case 5:{let y=t.read32(),d=[];for(let a=0;a<y;a++)d.push(r());return d}case 6:{let y=t.read32(),d={};for(let a=0;a<y;a++)d[V(t.read())]=r();return d}default:throw new Error("Invalid packet")}},t=new te(e),s=t.read32(),o=(s&1)===0;s>>>=1;let i=r();if(t.ptr!==e.length)throw new Error("Invalid packet");return{id:s,isRequest:o,value:i}}var te=class{constructor(r=new Uint8Array(1024)){this.buf=r;this.len=0;this.ptr=0}_write(r){if(this.len+r>this.buf.length){let t=new Uint8Array((this.len+r)*2);t.set(this.buf),this.buf=t}return this.len+=r,this.len-r}write8(r){let t=this._write(1);this.buf[t]=r}write32(r){let t=this._write(4);re(this.buf,r,t)}write(r){let t=this._write(4+r.length);re(this.buf,r.length,t),this.buf.set(r,t+4)}_read(r){if(this.ptr+r>this.buf.length)throw new Error("Invalid packet");return this.ptr+=r,this.ptr-r}read8(){return this.buf[this._read(1)]}read32(){return le(this.buf,this._read(4))}read(){let r=this.read32(),t=new Uint8Array(r),s=this._read(t.length);return t.set(this.buf.subarray(s,s+r)),t}},W,V;if(typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined"){let e=new TextEncoder,r=new TextDecoder;W=t=>e.encode(t),V=t=>r.decode(t)}else if(typeof Buffer!="undefined")W=e=>Buffer.from(e),V=e=>Buffer.from(e).toString();else throw new Error("No UTF-8 codec found");function le(e,r){return e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24}function re(e,r,t){e[t++]=r,e[t++]=r>>8,e[t++]=r>>16,e[t++]=r>>24}function ce(e){if(e+="",e.indexOf(",")>=0)throw new Error(`Invalid target: ${e}`);return e}var P=e=>typeof e=="boolean"?null:"a boolean",g=e=>typeof e=="string"?null:"a string",de=e=>e instanceof RegExp?null:"a RegExp object",z=e=>typeof e=="number"&&e===(e|0)?null:"an integer",xe=e=>typeof e=="function"?null:"a function",L=e=>Array.isArray(e)?null:"an array",G=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)?null:"an object",Oe=e=>typeof e=="object"&&!Array.isArray(e)?null:"an object or null",ie=e=>typeof e=="string"||typeof e=="boolean"?null:"a string or a boolean",Se=e=>typeof e=="string"||typeof e=="object"&&e!==null&&!Array.isArray(e)?null:"a string or an object",Ee=e=>typeof e=="string"||Array.isArray(e)?null:"a string or an array",$e=e=>typeof e=="string"||e instanceof Uint8Array?null:"a string or a Uint8Array";function n(e,r,t,s){let o=e[t];if(r[t+""]=!0,o===void 0)return;let i=s(o);if(i!==null)throw new Error(`"${t}" must be ${i}`);return o}function j(e,r){for(let t in e)if(!(t in r))throw new Error(`Invalid option: "${t}"`)}function Q(e,r,t,s,o){let i=n(r,t,"color",P),y=n(r,t,"logLevel",g),d=n(r,t,"errorLimit",z);i?e.push(`--color=${i}`):s&&e.push("--color=true"),e.push(`--log-level=${y||o}`),e.push(`--error-limit=${d||0}`)}function pe(e,r,t){let s=n(r,t,"target",Ee),o=n(r,t,"format",g),i=n(r,t,"globalName",g),y=n(r,t,"minify",P),d=n(r,t,"minifySyntax",P),a=n(r,t,"minifyWhitespace",P),w=n(r,t,"minifyIdentifiers",P),k=n(r,t,"charset",g),I=n(r,t,"treeShaking",ie),E=n(r,t,"jsxFactory",g),A=n(r,t,"jsxFragment",g),C=n(r,t,"define",G),q=n(r,t,"pure",L),N=n(r,t,"avoidTDZ",P),K=n(r,t,"keepNames",P),M=n(r,t,"banner",g),c=n(r,t,"footer",g);if(s&&(Array.isArray(s)?e.push(`--target=${Array.from(s).map(ce).join(",")}`):e.push(`--target=${ce(s)}`)),o&&e.push(`--format=${o}`),i&&e.push(`--global-name=${i}`),y&&e.push("--minify"),d&&e.push("--minify-syntax"),a&&e.push("--minify-whitespace"),w&&e.push("--minify-identifiers"),k&&e.push(`--charset=${k}`),I!==void 0&&I!==!0&&e.push(`--tree-shaking=${I}`),E&&e.push(`--jsx-factory=${E}`),A&&e.push(`--jsx-fragment=${A}`),C)for(let u in C){if(u.indexOf("=")>=0)throw new Error(`Invalid define: ${u}`);e.push(`--define:${u}=${C[u]}`)}if(q)for(let u of q)e.push(`--pure:${u}`);N&&e.push("--avoid-tdz"),K&&e.push("--keep-names"),M&&e.push(`--banner=${M}`),c&&e.push(`--footer=${c}`)}function Be(e,r,t,s){var b;let o=[],i=Object.create(null),y=null,d=null;Q(o,e,i,r,t),pe(o,e,i);let a=n(e,i,"sourcemap",ie),w=n(e,i,"bundle",P),k=n(e,i,"splitting",P),I=n(e,i,"metafile",g),E=n(e,i,"outfile",g),A=n(e,i,"outdir",g),C=n(e,i,"outbase",g),q=n(e,i,"platform",g),N=n(e,i,"tsconfig",g),K=n(e,i,"resolveExtensions",L),M=n(e,i,"mainFields",L),c=n(e,i,"external",L),u=n(e,i,"loader",G),f=n(e,i,"outExtension",G),v=n(e,i,"publicPath",g),F=n(e,i,"inject",L),T=n(e,i,"entryPoints",L),x=n(e,i,"stdin",G),h=(b=n(e,i,"write",P))!=null?b:s,m=n(e,i,"incremental",P)===!0,O=n(e,i,"plugins",L);if(j(e,i),a&&o.push(`--sourcemap${a===!0?"":`=${a}`}`),w&&o.push("--bundle"),k&&o.push("--splitting"),I&&o.push(`--metafile=${I}`),E&&o.push(`--outfile=${E}`),A&&o.push(`--outdir=${A}`),C&&o.push(`--outbase=${C}`),q&&o.push(`--platform=${q}`),N&&o.push(`--tsconfig=${N}`),K){let l=[];for(let p of K){if(p+="",p.indexOf(",")>=0)throw new Error(`Invalid resolve extension: ${p}`);l.push(p)}o.push(`--resolve-extensions=${l.join(",")}`)}if(v&&o.push(`--public-path=${v}`),M){let l=[];for(let p of M){if(p+="",p.indexOf(",")>=0)throw new Error(`Invalid main field: ${p}`);l.push(p)}o.push(`--main-fields=${l.join(",")}`)}if(c)for(let l of c)o.push(`--external:${l}`);if(F)for(let l of F)o.push(`--inject:${l}`);if(u)for(let l in u){if(l.indexOf("=")>=0)throw new Error(`Invalid loader extension: ${l}`);o.push(`--loader:${l}=${u[l]}`)}if(f)for(let l in f){if(l.indexOf("=")>=0)throw new Error(`Invalid out extension: ${l}`);o.push(`--out-extension:${l}=${f[l]}`)}if(T)for(let l of T){if(l+="",l.startsWith("-"))throw new Error(`Invalid entry point: ${l}`);o.push(l)}if(x){let l=Object.create(null),p=n(x,l,"contents",g),S=n(x,l,"resolveDir",g),R=n(x,l,"sourcefile",g),B=n(x,l,"loader",g);j(x,l),R&&o.push(`--sourcefile=${R}`),B&&o.push(`--loader=${B}`),S&&(d=S+""),y=p?p+"":""}return[o,h,O,y,d,m]}function ke(e,r,t){let s=[],o=Object.create(null);Q(s,e,o,r,t),pe(s,e,o);let i=n(e,o,"sourcemap",ie),y=n(e,o,"tsconfigRaw",Se),d=n(e,o,"sourcefile",g),a=n(e,o,"loader",g);return j(e,o),i&&s.push(`--sourcemap=${i===!0?"external":i}`),y&&s.push(`--tsconfig-raw=${typeof y=="string"?y:JSON.stringify(y)}`),d&&s.push(`--sourcefile=${d}`),a&&s.push(`--loader=${a}`),s}function ge(e){let r=new Map,t=new Map,s=new Map,o=0,i=!1,y=0,d=0,a=new Uint8Array(16*1024),w=0,k=c=>{let u=w+c.length;if(u>a.length){let v=new Uint8Array(u*2);v.set(a),a=v}a.set(c,w),w+=c.length;let f=0;for(;f+4<=w;){let v=le(a,f);if(f+4+v>w)break;f+=4,N(a.slice(f,f+v)),f+=v}f>0&&(a.set(a.slice(f)),w-=f)},I=()=>{i=!0;for(let c of r.values())c("The service was stopped",null);r.clear();for(let c of s.values())c.onWait("The service was stopped");s.clear()},E=(c,u)=>{if(i)return u("The service is no longer running",null);let f=y++;r.set(f,u),e.writeToStdin(ne({id:f,isRequest:!0,value:c}))},A=(c,u)=>{if(i)throw new Error("The service is no longer running");e.writeToStdin(ne({id:c,isRequest:!1,value:u}))},C=(c,u)=>ee(this,null,function*(){try{switch(u.command){case"resolve":{let f=t.get(u.key);A(c,yield f(u));break}case"load":{let f=t.get(u.key);A(c,yield f(u));break}case"serve-request":{let f=s.get(u.serveID);A(c,{}),f&&f.onRequest&&f.onRequest(u.args);break}case"serve-wait":{let f=s.get(u.serveID);A(c,{}),f&&f.onWait(u.error);break}default:throw new Error("Invalid command: "+u.command)}}catch(f){A(c,{errors:[yield Z(f,e)]})}}),q=!0,N=c=>{if(q){q=!1;let f=String.fromCharCode(...c);if(f!=="0.8.21")throw new Error(`Cannot start service: Host version "0.8.21" does not match binary version ${JSON.stringify(f)}`);return}let u=fe(c);if(u.isRequest)C(u.id,u.value);else{let f=r.get(u.id);r.delete(u.id),u.value.error?f(u.value.error,{}):f(null,u.value)}},K=(c,u,f)=>{if(e.isSync)throw new Error("Cannot use plugins in synchronous API calls");let v={},F={},T=0,x=0;u.plugins=[];for(let h of c){let m=h.name,O=h.setup,b={name:m+"",onResolve:[],onLoad:[]};if(typeof m!="string"||m==="")throw new Error(`Plugin at index ${x} is missing a name`);if(typeof O!="function")throw new Error(`[${b.name}] Missing a setup function`);x++,O({onResolve(l,p){let S={},R=n(l,S,"filter",de),B=n(l,S,"namespace",g);if(j(l,S),R==null)throw new Error(`[${b.name}] "onResolve" is missing a filter`);let $=T++;v[$]=p,b.onResolve.push({id:$,filter:R.source,namespace:B||""})},onLoad(l,p){let S={},R=n(l,S,"filter",de),B=n(l,S,"namespace",g);if(j(l,S),R==null)throw new Error(`[${b.name}] "onLoad" is missing a filter`);let $=T++;F[$]=p,b.onLoad.push({id:$,filter:R.source,namespace:B||""})}}),u.plugins.push(b)}return t.set(f,h=>ee(this,null,function*(){switch(h.command){case"resolve":{let m={};for(let O of h.ids)try{let b=v[O],l=yield b({path:h.path,importer:h.importer,namespace:h.namespace,resolveDir:h.resolveDir});if(l!=null){if(typeof l!="object")throw new Error("Expected resolver plugin to return an object");let p={},S=n(l,p,"pluginName",g),R=n(l,p,"path",g),B=n(l,p,"namespace",g),$=n(l,p,"external",P),U=n(l,p,"errors",L),D=n(l,p,"warnings",L);j(l,p),m.id=O,S!=null&&(m.pluginName=S),R!=null&&(m.path=R),B!=null&&(m.namespace=B),$!=null&&(m.external=$),U!=null&&(m.errors=X(U)),D!=null&&(m.warnings=X(D));break}}catch(b){return{id:O,errors:[yield Z(b,e)]}}return m}case"load":{let m={};for(let O of h.ids)try{let b=F[O],l=yield b({path:h.path,namespace:h.namespace});if(l!=null){if(typeof l!="object")throw new Error("Expected loader plugin to return an object");let p={},S=n(l,p,"pluginName",g),R=n(l,p,"contents",$e),B=n(l,p,"resolveDir",g),$=n(l,p,"loader",g),U=n(l,p,"errors",L),D=n(l,p,"warnings",L);j(l,p),m.id=O,S!=null&&(m.pluginName=S),R instanceof Uint8Array?m.contents=R:R!=null&&(m.contents=W(R)),B!=null&&(m.resolveDir=B),$!=null&&(m.loader=$),U!=null&&(m.errors=X(U)),D!=null&&(m.warnings=X(D));break}}catch(b){return{id:O,errors:[yield Z(b,e)]}}return m}default:throw new Error("Invalid command: "+h.command)}})),()=>t.delete(f)},M=(c,u)=>{let f={},v=n(c,f,"port",z),F=n(c,f,"host",g),T=n(c,f,"onRequest",xe),x=o++,h,m=new Promise((O,b)=>{h=l=>{s.delete(x),l!==null?b(new Error(l)):O()}});return u.serve={serveID:x},j(c,f),v!==void 0&&(u.serve.port=v),F!==void 0&&(u.serve.host=F),s.set(x,{onRequest:T,onWait:h}),{wait:m,stop(){E({command:"serve-stop",serveID:x},()=>{})}}};return{readFromStdout:k,afterClose:I,service:{buildOrServe(c,u,f,v){let F="info";try{let T=d++,x=!e.isBrowser,[h,m,O,b,l,p]=Be(u,f,F,x),S={command:"build",key:T,flags:h,write:m,stdin:b,resolveDir:l,incremental:p},R=c&&M(c,S),B=O&&O.length>0&&K(O,S,T),$,U=(D,_)=>{let J=D.errors,H=D.warnings;if(J.length>0)return _(me("Build failed",J,H),null);let Y={warnings:H};if(D.outputFiles&&(Y.outputFiles=D.outputFiles.map(Ae)),D.rebuildID!==void 0){if(!$){let oe=!1;$=()=>new Promise((ye,he)=>{if(oe||i)throw new Error("Cannot rebuild");E({command:"rebuild",rebuildID:D.rebuildID},(se,we)=>{if(se)return _(new Error(se),null);U(we,(ae,be)=>{ae?he(ae):ye(be)})})}),$.dispose=()=>{oe=!0,B&&B(),E({command:"rebuild-dispose",rebuildID:D.rebuildID},()=>{})}}Y.rebuild=$}return _(null,Y)};if(m&&e.isBrowser)throw new Error('Cannot enable "write" in the browser');if(p&&e.isSync)throw new Error('Cannot use "incremental" with a synchronous build');E(S,(D,_)=>{if(D)return v(new Error(D),null);if(R){let J=_,H={port:J.port,host:J.host,wait:R.wait,stop:R.stop};return v(null,H)}return B&&!p&&B(),U(_,v)})}catch(T){let x=[];try{Q(x,u,{},f,F)}catch(h){}E({command:"error",flags:x,error:Z(T,e)},()=>{v(T,null)})}},transform(c,u,f,v,F){let T="silent",x=h=>{try{let m=ke(u,f,T),O={command:"transform",flags:m,inputFS:h!==null,input:h!==null?h:c+""};E(O,(b,l)=>{if(b)return F(new Error(b),null);let p=l.errors,S=l.warnings,R=1,B=()=>--R===0&&F(null,{warnings:S,code:l.code,map:l.map});if(p.length>0)return F(me("Transform failed",p,S),null);l.codeFS&&(R++,v.readFile(l.code,($,U)=>{$!==null?F($,null):(l.code=U,B())})),l.mapFS&&(R++,v.readFile(l.map,($,U)=>{$!==null?F($,null):(l.map=U,B())})),B()})}catch(m){let O=[];try{Q(O,u,{},f,T)}catch(b){}E({command:"error",flags:O,error:Z(m,e)},()=>{F(m,null)})}};if(typeof c=="string"&&c.length>1024*1024){let h=x;x=()=>v.writeFile(c,h)}x(null)}}}}function Z(e,r){let t="Internal error",s=null;try{t=(e&&e.message||e)+""}catch(o){}try{let o=e.stack+"",i=o.split(`
`,3),y="    at ";if(r.readFileSync&&!i[0].startsWith(y)&&i[1].startsWith(y)){let d=i[1].slice(y.length);for(;;){let a=/^\S+ \((.*)\)$/.exec(d);if(a){d=a[1];continue}if(a=/^eval at \S+ \((.*)\)(?:, \S+:\d+:\d+)?$/.exec(d),a){d=a[1];continue}if(a=/^(\S+):(\d+):(\d+)$/.exec(d),a){let w=r.readFileSync(a[1],"utf8"),k=w.split(/\r\n|\r|\n|\u2028|\u2029/)[+a[2]-1]||"";s={file:a[1],namespace:"file",line:+a[2],column:+a[3]-1,length:0,lineText:k+`
`+i.slice(1).join(`
`)}}break}}}catch(o){}return{text:t,location:s}}function me(e,r,t){let s=5,o=r.length<1?"":` with ${r.length} error${r.length<2?"":"s"}:`+r.slice(0,s+1).map((y,d)=>{if(d===s)return`
...`;if(!y.location)return`
error: ${y.text}`;let{file:a,line:w,column:k}=y.location;return`
${a}:${w}:${k}: error: ${y.text}`}).join(""),i=new Error(`${e}${o}`);return i.errors=r,i.warnings=t,i}function X(e){let r=[];for(let t of e){let s={},o=n(t,s,"text",g),i=n(t,s,"location",Oe);j(t,s);let y=null;if(i!=null){let d={},a=n(i,d,"file",g),w=n(i,d,"namespace",g),k=n(i,d,"line",z),I=n(i,d,"column",z),E=n(i,d,"length",z),A=n(i,d,"lineText",g);j(i,d),y={file:a||"",namespace:w||"",line:k||0,column:I||0,length:E||0,lineText:A||""}}r.push({text:o||"",location:y})}return r}function Ae({path:e,contents:r}){let t=null;return{path:e,contents:r,get text(){return t===null&&(t=V(r)),t}}}var Fe="0.8.21",Te=()=>{throw new Error('The "build" API only works in node')},De=()=>{throw new Error('The "serve" API only works in node')},Ie=()=>{throw new Error('The "transform" API only works in node')},Ue=()=>{throw new Error('The "buildSync" API only works in node')},Pe=()=>{throw new Error('The "transformSync" API only works in node')},Le=e=>{if(!e)throw new Error('Must provide an options object to "startService"');let r=e.wasmURL;if(!r)throw new Error('Must provide the "wasmURL" option');return r+="",fetch(r).then(t=>{if(!t.ok)throw new Error(`Failed to download ${JSON.stringify(r)}`);return t.arrayBuffer()}).then(t=>{let s='{let global={};for(let o=self;o;o=Object.getPrototypeOf(o))for(let k of Object.getOwnPropertyNames(o))global[k]=self[k];\n// Copyright 2018 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n(()=>{if(!(typeof global!="undefined"))if(typeof window!="undefined")window.global=window;else if(typeof self!="undefined")self.global=self;else throw new Error("cannot export Go (neither global, window nor self is defined)");if(!global.require&&typeof require!="undefined"&&(global.require=require),!global.fs&&global.require){const r=require("fs");Object.keys(r)!==0&&(global.fs=r)}const l=()=>{const r=new Error("not implemented");return r.code="ENOSYS",r};if(!global.fs){let r="";global.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){r+=g.decode(s);const i=r.lastIndexOf(`\n`);return i!=-1&&(console.log(r.substr(0,i)),r=r.substr(i+1)),s.length},write(n,s,i,c,f,u){if(i!==0||c!==s.length||f!==null){u(l());return}const h=this.writeSync(n,s);u(null,h)},chmod(n,s,i){i(l())},chown(n,s,i,c){c(l())},close(n,s){s(l())},fchmod(n,s,i){i(l())},fchown(n,s,i,c){c(l())},fstat(n,s){s(l())},fsync(n,s){s(null)},ftruncate(n,s,i){i(l())},lchown(n,s,i,c){c(l())},link(n,s,i){i(l())},lstat(n,s){s(l())},mkdir(n,s,i){i(l())},open(n,s,i,c){c(l())},read(n,s,i,c,f,u){u(l())},readdir(n,s){s(l())},readlink(n,s){s(l())},rename(n,s,i){i(l())},rmdir(n,s){s(l())},stat(n,s){s(l())},symlink(n,s,i){i(l())},truncate(n,s,i){i(l())},unlink(n,s){s(l())},utimes(n,s,i,c){c(l())}}}if(global.process||(global.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw l()},pid:-1,ppid:-1,umask(){throw l()},cwd(){throw l()},chdir(){throw l()}}),!global.crypto){const r=require("crypto");global.crypto={getRandomValues(n){r.randomFillSync(n)}}}global.performance||(global.performance={now(){const[r,n]=process.hrtime();return r*1e3+n/1e6}}),global.TextEncoder||(global.TextEncoder=require("util").TextEncoder),global.TextDecoder||(global.TextDecoder=require("util").TextDecoder);const d=new TextEncoder("utf-8"),g=new TextDecoder("utf-8");if(global.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const r=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},n=e=>{const t=this.mem.getUint32(e+0,!0),o=this.mem.getInt32(e+4,!0);return t+o*4294967296},s=e=>{const t=this.mem.getFloat64(e,!0);if(t===0)return;if(!isNaN(t))return t;const o=this.mem.getUint32(e,!0);return this._values[o]},i=(e,t)=>{const o=2146959360;if(typeof t=="number"&&t!==0){if(isNaN(t)){this.mem.setUint32(e+4,o,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,t,!0);return}if(t===void 0){this.mem.setFloat64(e,0,!0);return}let a=this._ids.get(t);a===void 0&&(a=this._idPool.pop(),a===void 0&&(a=this._values.length),this._values[a]=t,this._goRefCounts[a]=0,this._ids.set(t,a)),this._goRefCounts[a]++;let m=0;switch(typeof t){case"object":t!==null&&(m=1);break;case"string":m=2;break;case"symbol":m=3;break;case"function":m=4;break}this.mem.setUint32(e+4,o|m,!0),this.mem.setUint32(e,a,!0)},c=e=>{const t=n(e+0),o=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,o)},f=e=>{const t=n(e+0),o=n(e+8),a=new Array(o);for(let m=0;m<o;m++)a[m]=s(t+m*8);return a},u=e=>{const t=n(e+0),o=n(e+8);return g.decode(new DataView(this._inst.exports.mem.buffer,t,o))},h=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{const t=n(e+8),o=n(e+16),a=this.mem.getInt32(e+24,!0);fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,o,a))},"runtime.resetMemoryDataView":e=>{this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{r(e+8,(h+performance.now())*1e6)},"runtime.walltime1":e=>{const t=new Date().getTime();r(e+8,t/1e3),this.mem.setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},n(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{crypto.getRandomValues(c(e+8))},"syscall/js.finalizeRef":e=>{const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,this._goRefCounts[t]===0){const o=this._values[t];this._values[t]=null,this._ids.delete(o),this._idPool.push(t)}},"syscall/js.stringVal":e=>{i(e+24,u(e+8))},"syscall/js.valueGet":e=>{const t=Reflect.get(s(e+8),u(e+16));e=this._inst.exports.getsp(),i(e+32,t)},"syscall/js.valueSet":e=>{Reflect.set(s(e+8),u(e+16),s(e+32))},"syscall/js.valueDelete":e=>{Reflect.deleteProperty(s(e+8),u(e+16))},"syscall/js.valueIndex":e=>{i(e+24,Reflect.get(s(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{Reflect.set(s(e+8),n(e+16),s(e+24))},"syscall/js.valueCall":e=>{try{const t=s(e+8),o=Reflect.get(t,u(e+16)),a=f(e+32),m=Reflect.apply(o,t,a);e=this._inst.exports.getsp(),i(e+56,m),this.mem.setUint8(e+64,1)}catch(t){i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{try{const t=s(e+8),o=f(e+16),a=Reflect.apply(t,void 0,o);e=this._inst.exports.getsp(),i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{try{const t=s(e+8),o=f(e+16),a=Reflect.construct(t,o);e=this._inst.exports.getsp(),i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{r(e+16,parseInt(s(e+8).length))},"syscall/js.valuePrepareString":e=>{const t=d.encode(String(s(e+8)));i(e+16,t),r(e+24,t.length)},"syscall/js.valueLoadString":e=>{const t=s(e+8);c(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{this.mem.setUint8(e+24,s(e+8)instanceof s(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{const t=c(e+8),o=s(e+32);if(!(o instanceof Uint8Array||o instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),r(e+40,a.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{const t=s(e+8),o=c(e+16);if(!(t instanceof Uint8Array||t instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),r(e+40,a.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}async run(r){this._inst=r,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,global,this],this._goRefCounts=new Array(this._values.length).fill(Infinity),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[global,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=h=>{const e=n,t=d.encode(h+"\\0");return new Uint8Array(this.mem.buffer,n,t.length).set(t),n+=t.length,n%8!==0&&(n+=8-n%8),e},i=this.argv.length,c=[];this.argv.forEach(h=>{c.push(s(h))}),c.push(0);const f=Object.keys(this.env).sort();f.forEach(h=>{c.push(s(`${h}=${this.env[h]}`))}),c.push(0);const u=n;c.forEach(h=>{this.mem.setUint32(n,h,!0),this.mem.setUint32(n+4,0,!0),n+=8}),this._inst.exports.run(i,u),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(r){const n=this;return function(){const s={id:r,this:this,args:arguments};return n._pendingEvent=s,n._resume(),s.result}}},global.require&&global.require.main===module&&global.process&&global.process.versions&&!global.process.versions.electron){process.argv.length<3&&(console.error("usage: go_js_wasm_exec [wasm binary] [arguments]"),process.exit(1));const r=new Go;r.argv=process.argv.slice(2),r.env=Object.assign({TMPDIR:require("os").tmpdir()},process.env),r.exit=process.exit,WebAssembly.instantiate(fs.readFileSync(process.argv[2]),r.importObject).then(n=>(process.on("exit",s=>{s===0&&!r.exited&&(r._pendingEvent={id:0},r._resume())}),r.run(n.instance))).catch(n=>{console.error(n),process.exit(1)})}})();\nonmessage=({data:c})=>{let y=new TextDecoder,s=global.fs,a="";s.writeSync=(e,t)=>{if(e===1)self.postMessage(t);else if(e===2){a+=y.decode(t);let n=a.split(`\n`);n.length>1&&console.log(n.slice(0,-1).join(`\n`)),a=n[n.length-1]}else throw new Error("Bad write");return t.length};let l=[],i,r=0;onmessage=({data:e})=>{e.length>0&&(l.push(e),i&&i())},s.read=(e,t,n,d,u,m)=>{if(e!==0||n!==0||d!==t.length||u!==null)throw new Error("Bad read");if(l.length===0){i=()=>s.read(e,t,n,d,u,m);return}let g=l[0],h=Math.max(0,Math.min(d,g.length-r));t.set(g.subarray(r,r+h),n),r+=h,r===g.length&&(l.shift(),r=0),m(null,h)};let o=new global.Go;o.argv=["","--service=0.8.21"],WebAssembly.instantiate(c,o.importObject).then(({instance:e})=>o.run(e))};}',o;if(e.worker!==!1){let a=new Blob([s],{type:"application/javascript"});o=new Worker(URL.createObjectURL(a))}else{let a=new Function("postMessage",s+"var onmessage; return m => onmessage(m)"),w=a(k=>o.onmessage({data:k}));o={onmessage:null,postMessage:k=>w({data:k}),terminate(){}}}o.postMessage(t),o.onmessage=({data:a})=>i(a);let{readFromStdout:i,afterClose:y,service:d}=ge({writeToStdin(a){o.postMessage(a)},isSync:!1,isBrowser:!0});return{build:a=>new Promise((w,k)=>d.buildOrServe(null,a,!1,(I,E)=>I?k(I):w(E))),transform:(a,w)=>new Promise((k,I)=>d.transform(a,w||{},!1,{readFile(E,A){A(new Error("Internal error"),null)},writeFile(E,A){A(null)}},(E,A)=>E?I(E):k(A))),serve(){throw new Error('The "serve" API only works in node')},stop(){o.terminate(),y()}}})};})(typeof exports==="object"?exports:(typeof self!=="undefined"?self:this).esbuild={});
